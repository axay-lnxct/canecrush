{% extends 'base.html' %}
{% load static %}
{% block title %}Forget Password | CaneCrush{% endblock %}

{% block content %}    
<div class="container">
    <form method="post">
        {% csrf_token %} 
        {% if form.errors %}
        <div class="error-msg">
            <div class="alert alert-info alert-dismissible fade show" role="alert">
                {% for field in form %}
                    {% for error in field.errors %}
                        {{ error }}
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
        {% endif %}
        <div class="form-box">
            <h2>Forgot Your Password</h2>
            <p>Please enter the email address you'd like your password reset information sent to </p>
            <div class="form-group">
                <!-- <label for="id_email" class="sr-only">Email</label> -->
                <i class="fas fa-envelope "></i>
                <input type="email" name="email" id="id_email" class="form-control" placeholder="Enter Email" autocomplete="email">
            </div>
            <button type="submit" class="register-btn">Request reset link</button>
        <p class="member-text">Back to  <a href="{% url 'login'%}">Login</a></p>
    </div>
</form>
</div>
<!-- <div class="image-box">
    <img src="{% static 'accounts/images/forgotpassword.gif'%}" alt="Desk Image">
</div> -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        {% for field in form %}
            {% for error in field.errors %}
                showToastNotification("{{ error }}");
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            showToastNotification("{{ error }}");
        {% endfor %}
    });
</script>
{% endblock %}
